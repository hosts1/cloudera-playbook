---

ansible_become: true
tmp_dir: /tmp
krb5_realm: AD.SEC.CLOUDERA.COM
ad_domain: "{{ krb5_realm.lower() }}"
computer_ou: ou=Hosts,ou=morhidi,ou=HadoopClusters,ou=morhidi,dc=ad,dc=sec,dc=cloudera,dc=com
domain: vpc.cloudera.com
kdc: w2k8-1.ad.sec.cloudera.com

# Only the latest CDH minor version is available in the official repo
#cdh_version: 5.8.3
#cdh_version: 5.16.1
cdh_version: 6.2.0
cdh_major_version: "{{ cdh_version.split('.')[0] }}"
scm_version: "{{ cdh_version }}"

cloudera_mirror: https://archive.cloudera.com
configs_by_version:
  "5":
    repo_url: "{{ cloudera_mirror }}/cm5/redhat/{{ ansible_distribution_major_version }}/x86_64/cm/5/"
    scm_parcel_repository: "{{ cloudera_mirror }}/cdh5/parcels/{{ cdh_version }}"
    scm_prepare_database_script_path: "/usr/share/cmf/schema/scm_prepare_database.sh"
  "6":
    repo_url: "{{ cloudera_mirror }}/cm6/{{ cdh_version }}/redhat{{ ansible_distribution_major_version }}/yum"
    scm_parcel_repository: "{{ cloudera_mirror }}/cdh6/{{ cdh_version }}/parcels"
    scm_prepare_database_script_path: "/opt/cloudera/cm/schema/scm_prepare_database.sh"

cloudera_repository_baseurl:        "{{ configs_by_version[cdh_major_version].repo_url }}"
cloudera_repository_gpgkey:         "{{ configs_by_version[cdh_major_version].repo_url }}/RPM-GPG-KEY-cloudera"
scm_prepare_database_script_path:   "{{ configs_by_version[cdh_major_version].scm_prepare_database_script_path }}"
scm_parcel_repository:              "{{ configs_by_version[cdh_major_version].scm_parcel_repository }}"

cdh_install_java: true
cdh_install_mysql: true
cdh_install_rngd: true
cdh_install_groups_users: true
cdh_install_cluster: true

# hostname_var can be set to 'ansible_fqdn' (to use the internal hostname) or 'inventory_hostname' (default, uses the public/inventory hostname)
hostname_var: 'inventory_hostname'
